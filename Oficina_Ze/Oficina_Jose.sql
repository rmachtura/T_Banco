CREATE DATABASE PROJETO;
USE PROJETO;

CREATE TABLE CLIENTES(
	IDCLIENTE INT PRIMARY KEY AUTO_INCREMENT,
	NOME VARCHAR(30) NOT NULL,
	SEXO CHAR(1) NOT NULL,
	ID_CARRO INT UNIQUE
);

CREATE TABLE TELEFONES(
	IDTELEFONE INT PRIMARY KEY AUTO_INCREMENT,
	TIPO ENUM('RES', 'COM', 'CEL') NOT NULL,
	DDD VARCHAR(2) NOT NULL,
	NUMERO VARCHAR(11) NOT NULL,
	ID_CLIENTE INT
);

CREATE TABLE CARROS(
	IDCARRO INT PRIMARY KEY AUTO_INCREMENT,
	PLACA VARCHAR(10) NOT NULL UNIQUE,
	MODELO VARCHAR(20) NOT NULL,
	ID_MARCA INT
);

CREATE TABLE MARCAS(
	IDMARCA INT UNIQUE,
	MARCA VARCHAR(10) UNIQUE
);

CREATE TABLE CORES(
	IDCOR INT PRIMARY KEY AUTO_INCREMENT,
	COR VARCHAR(20) NOT NULL UNIQUE
);

CREATE TABLE CARRO_COR(
	ID_CARRO INT,
	ID_COR INT,
	PRIMARY KEY(ID_CARRO, ID_COR)
);

ALTER TABLE TELEFONES ADD CONSTRAINT FK_TELEFONE_CLIENTE
FOREIGN KEY(ID_CLIENTE) REFERENCES CLIENTES(IDCLIENTE);

ALTER TABLE CLIENTES ADD CONSTRAINT FK_CLIENTE_CARRO
FOREIGN KEY(ID_CARRO) REFERENCES CARROS(IDCARRO);

ALTER TABLE CARROS ADD CONSTRAINT FK_CARRO_MARCA
FOREIGN KEY(ID_MARCA) REFERENCES MARCAS(IDMARCA);

ALTER TABLE CARRO_COR ADD CONSTRAINT FK_COR
FOREIGN KEY(ID_COR) REFERENCES CORES(IDCOR);

ALTER TABLE CARRO_COR ADD CONSTRAINT FK_CARRO
FOREIGN KEY(ID_CARRO) REFERENCES CARROS(IDCARRO);

INSERT INTO CLIENTES VALUES(NULL, 'RAFAEL', 'M', 1);
INSERT INTO CLIENTES VALUES(NULL, 'DEYSI', 'F', 2);
INSERT INTO CLIENTES VALUES(NULL, 'MELINA', 'F', 3);
INSERT INTO CLIENTES VALUES(NULL, 'JHONNY', 'M', 4);
INSERT INTO CLIENTES VALUES(NULL, 'OSWALD', 'M', 5);
INSERT INTO CLIENTES VALUES(NULL, 'RAFAELA', 'F', 6);
INSERT INTO CLIENTES VALUES(NULL, 'JOSIMARA', 'F', 7);
INSERT INTO CLIENTES VALUES(NULL, 'JO√ÉO', 'F', 8);
INSERT INTO CLIENTES VALUES(NULL, 'RONALD', 'M', 9);
INSERT INTO CLIENTES VALUES(NULL, 'JULIO', 'M', 10);

INSERT INTO TELEFONES VALUES(NULL, 'CEL', '17', '991925863', 1);
INSERT INTO TELEFONES VALUES(NULL, 'CEL', '17', '981254774', 2);
INSERT INTO TELEFONES VALUES(NULL, 'CEL', '17', '987415577', 3);
INSERT INTO TELEFONES VALUES(NULL, 'CEL', '17', '987456321', 4);
INSERT INTO TELEFONES VALUES(NULL, 'RES', '17', '45156969', 5);
INSERT INTO TELEFONES VALUES(NULL, 'RES', '17', '45156969', 1);
INSERT INTO TELEFONES VALUES(NULL, 'RES', '17', '45156969', 6);
INSERT INTO TELEFONES VALUES(NULL, 'COM', '17', '32365541', 7);

INSERT INTO CARROS VALUES(NULL, '000G2F5DK1', 'STILO', 2);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK2', 'QQ', 1);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK3', 'ONIX', 3);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK4', 'RANGER', 4);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK5', 'JETTA', 5);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK6', 'CIVIC', 6);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK7', 'COROLLA', 7);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK8', 'HR-V', 6);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK9', 'YARIS', 7);
INSERT INTO CARROS VALUES(NULL, '000G2F5DK0', 'ARRIZO 5', 1);

INSERT INTO MARCAS VALUES(1, 'CHERY');
INSERT INTO MARCAS VALUES(2, 'FIAT');
INSERT INTO MARCAS VALUES(3, 'GM');
INSERT INTO MARCAS VALUES(4, 'FORD');
INSERT INTO MARCAS VALUES(5, 'VOLKSWAGEN');
INSERT INTO MARCAS VALUES(6, 'HONDA');
INSERT INTO MARCAS VALUES(7, 'TOYOTA');

INSERT INTO CORES VALUES(NULL, 'AZUL');
INSERT INTO CORES VALUES(NULL, 'BRANCO');
INSERT INTO CORES VALUES(NULL, 'PRETO');
INSERT INTO CORES VALUES(NULL, 'CHUMBO');
INSERT INTO CORES VALUES(NULL, 'VERDE');
INSERT INTO CORES VALUES(NULL, 'PRATA');
INSERT INTO CORES VALUES(NULL, 'VERMELHO');
INSERT INTO CORES VALUES(NULL, 'AMARELO');
